<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>Gitflow/Hgflow & Atlassian Stash Presentation</title>

		<meta name="description" content="Gitflow/Hgflow & Atlassian Stash Presentation">
		<meta name="author" content="Thomas Tardy">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/solarized.css" id="theme">

		<!-- Code syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>
		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">
				<section>
					<h1>Gitflow / Hgflow</h1>
					<h3>&</h3>
                    <h1>Atlassian Stash</h1>
					<p>
						<small>Created by <a href="mailto:tardy@mptechnology.ch">Thomas Tardy</a></small>
					</p>
				</section>

				<section>
					<section>
						<h2>Gitflow / Hgflow</h2>
						<p>
							<img height="400" data-src="http://nvie.com/img/git-model@2x.png">
						</p>
					</section>
					<section>
						<h2>Main branches</h2>
						<p>
							<img height="400" data-src="http://nvie.com/img/main-branches@2x.png">
						</p>
					</section>
					<section>
						<h2>Feature branches</h2>
						<p>
							<img height="400" data-src="http://nvie.com/img/fb@2x.png">
						</p>
						<p>
							used to build and review features before <affecting></affecting> the HEAD
						</p>
					</section>
					<section>
						<h2>Hotfix branches</h2>
						<p>
							<img height="400" data-src="http://nvie.com/img/hotfix-branches@2x.png">
						</p>
					</section>
					<section>
						<h2>Overview</h2>
						<p>
							<img height="400" data-src="http://nvie.com/img/git-model@2x.png">
						</p>
						<p>
							<a href="http://nvie.com/files/Git-branching-model.pdf" target="_blank">PDF</a>
						</p>
					</section>
					<section>
						<h2>Links</h2>
						<ul>
							<li>
								<a href="http://nvie.com/posts/a-successful-git-branching-model/" target="_blank">A successful Git branching model by Vincent Driessen</a>
							</li>
							<li>
								<a href="http://nvie.com/files/Git-branching-model.pdf" target="_blank">Git branching model by Vincent Driessen (PDF)</a>
							</li>
							<li>
								<a href="https://www.atlassian.com/git/tutorials/comparing-workflows/gitflow-workflow" target="_blank">Gitflow Workflow by Atlassian</a>
							</li>
						</ul>
					</section>
				</section>
				<section>
					<section>
						<h2>Atlassian Stash</h2>
						<p>Why Atlassian Stash?</p>
						<p>Gitflow / Hgflow can be done with plan git / mercurial</p>
					</section>
					<section>
						<h2>Why Atlassian Stash?</h2>
						<ul>
							<li>Code reviews</li>
							<li>Pull requests</li>
							<li>Administration (access, workflow configuration, etc.)</li>
							<li>Jenkins integration</li>
							<li>JIRA integration</li>
							<li>UI for your repository</li>
						</ul>
					</section>
					<section>
						<h1>Demo</h1>
					</section>
					<section>
						<h2>Start demo</h2>
						<p>based on <a href="https://registry.hub.docker.com/u/atlassian/stash/" target="_blank">https://registry.hub.docker.com/u/atlassian/stash/</a></p>
						<pre><code class="bash" data-trim contenteditable>
# 1. start boot2docker
boot2docker start

# 2. set docker environment variables
eval "$(boot2docker shellinit)"

# 3. delete existing stash container
docker rm stash

# 4. start container for stash
docker run -u root -v /Users/tardy/Tools/atlassian-stash/data:/var/atlassian/application-data/stash --name="stash" -d -p 7990:7990 -p 7999:7999 atlassian/stash

# 5. connect to http://$DOCKER_HOST:7990
open -a /Applications/Google\ Chrome.app http://192.168.59.103:7990

# 6. see log files
docker logs --follow stash

# 7. stop docker container
docker stop stash

# 8. start last container
docker start stash
						</code></pre>
					</section>
					<section>
						<h2>Demo - Commits</h2>
						<ul>
							<li>see details of a recent commit</li>
							<li>ignore whitespace</li>
							<li>side-by-side diff</li>
							<li>file comment</li>
							<li>line comment</li>
						</ul>
					</section>
					<section>
						<h2>Demo - Pull requests (SourceTree)</h2>
						<ul>
							<li>see current configuration (1 approver, 1 build)</li>
							<li>Git Flow</li>
							<li>start a New Feature</li>
							<li>commit and push new feature<br>(create pull request from SourceTree not working)</li>
							<li>create pull request in stash<br>(create pull request from SourceTree not working)</li>
							<li>review pull request as user dummy</li>
							<li>merge pull request as user tardy</li>
						</ul>
					</section>
					<section>
						<h2>Links</h2>
						<ul>
							<li>
								<a href="https://registry.hub.docker.com/u/atlassian/stash/" target="_blank">Atlassian Stash Quick Start</a>
							</li>
							<li>
								<a href="http://stackoverflow.com/questions/10710250/converting-mercurial-folder-to-a-git-repository" target="_blank">Converting Mercurial folder to a Git repository</a>
							</li>
							<li>
								<a href="http://codeandme.blogspot.ch/2013/02/using-git-flow-in-eclipse.html" target="_blank">Using git flow in eclipse (command line)</a>
							</li>
						</ul>
					</section>
				</section>
			</div>
		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>
			// Full list of configuration options available at:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,
				help: true,

				transition: 'slide', // none/fade/slide/convex/concave/zoom

				// Optional reveal.js plugins
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, condition: function() { return !!document.querySelector( 'pre code' ); }, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true },
					{ src: 'plugin/notes/notes.js', async: true }
				]
			});
		</script>
	</body>
</html>
